<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto - UNDETIX</title>
    <link rel="stylesheet" href="style/style.css">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body>

    <div id="header-container"></div>

    <main>
        <h1 class="page-title">CONTACTO</h1>

        <div class="contact-container">
            <div class="contact-top-section">
                <div class="form-column">
                    <form id="miFormulario">
                        <div class="form-group">
                            <label for="nombre">Nombre</label>
                            <input type="text" id="nombre" name="nombre" placeholder="Tu nombre completo">
                        </div>

                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" placeholder="tucorreo@ejemplo.com">
                        </div>

                        <div class="form-group">
                            <label for="mensaje">Mensaje</label>
                            <textarea id="mensaje" name="mensaje" placeholder="¿En qué podemos ayudarte?"></textarea>
                        </div>

                        <button type="submit" class="btn-contact">ENVIAR MENSAJE</button>
                    </form>
                </div>
            </div>

            <div class="map-section">
                <h2 class="section-title" style="text-align: center; margin-bottom: 40px;">ENCUÉNTRANOS</h2>
                <div class="map-container">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3037.123456789!2d-3.703790!3d40.416775!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd42288000000001%3A0x0000000000000000!2sMadrid!5e0!3m2!1ses!2ses!4v1600000000000!5m2!1ses!2ses"
                        allowfullscreen="" loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
        </div>
    </main>

    <div id="footer-container"></div>

    <script>
        $(document).ready(function() {
            // Cargar Header y Footer
            $("#header-container").load("fragments/header.html");
            $("#footer-container").load("fragments/footer.html");

            // Lógica Menú Hamburguesa
            $(document).on('click', '#menuToggle', function() { $(this).toggleClass('open'); $('#mega-menu').toggleClass('active'); });
            $(document).on('click', '.cat-item', function() {
                $('.cat-item').removeClass('active-cat'); $(this).addClass('active-cat');
                var targetList = $(this).data('target'); $('.sub-list').removeClass('active-list'); $('#' + targetList).hide().addClass('active-list').fadeIn(200);
            });

            // Validación del Formulario
            $("#miFormulario").submit(function (evento) {
                evento.preventDefault();

                var nombre = $("#nombre").val();
                var email = $("#email").val();
                var mensaje = $("#mensaje").val();
                var hayError = false;

                // Resetear estilos
                $(".form-group input, .form-group textarea").css("border", "1px solid #ccc");

                if (nombre == "") {
                    $("#nombre").css("border", "1px solid red");
                    hayError = true;
                }
                if (email == "") {
                    $("#email").css("border", "1px solid red");
                    hayError = true;
                }
                if (mensaje == "") {
                    $("#mensaje").css("border", "1px solid red");
                    hayError = true;
                }

                if (!hayError) {
                    alert("¡Gracias! Tu mensaje ha sido enviado correctamente.");
                    $("#miFormulario")[0].reset();
                } else {
                    alert("Por favor, completa los campos requeridos.");
                }
            });
        });
    </script>
</body>
</html>